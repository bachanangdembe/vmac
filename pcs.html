<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>V-Mac Online Store</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f8f8f8;
        margin: 0;
        padding: 0;
    }
    header {
        background-color: #4CAF50;
        color: white;
        padding: 15px;
        text-align: center;
    }
    .products, .cart {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        margin: 0px;
    }
    .product, .cart-item {
        background: white;
        border: 1px solid #ddd;
        border-radius: 10px;
        padding: 10px;
        margin: 10px;
        width: 200px;
        text-align: center;
    }
    button {
        padding: 10px;
        margin-top: 10px;
        background-color: #4CAF50;
        color: white;
        border: none;
        cursor: pointer;
        border-radius: 5px;
    }
    button:hover {
        background-color: #45a049;
    }
    .cart h2 {
        width: 100%;
        text-align: center;
    }
    form {
        text-align: center;
        margin: 20px;
 
    }
    input, textarea {
        padding: 10px;
        width: 300px;
        margin: 5px 0;
    }

/* Modal */
    .modal {display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5);}
    .modal-content {background:#fff; width:300px; margin:10% auto; padding:20px; border-radius:8px;}
    .modal-content input {width:100%; padding:8px; margin:8px 0;}

/*==============------------

</style>
</head>
<body>

<header>
    <h1>V-Mac Online Store</h1>
</header>



<div class="products">
    <div class="product">
    	<img src="assets/img/optiplex-3000tc-gallery-3.avif" width="80px">
        <h3>Dell OptiPlex Desktop</h3>
        <p>Price: $600</p>
        <button onclick="addToCart('Dell OptiPlex Desktop', 600)">Add to Cart</button>
    </div>
    <div class="product">
    	<img src="assets/img/desktop-pro-qcm1250-micro-black-gallery-1.avif" width="100px">
        <h3>Dell Pro Micro Desktop</h3>
        <p>Price: $750</p>
        <button onclick="addToCart('Dell Pro Micro Desktop', 750)">Add to Cart</button>
    </div>
    <div class="product">
    	<img src="assets/img/desktop-dell-pro-max-fcs1250-slim-odd-gallery-1.avif" width="100px">
        <h3>Dell Slim Desktop</h3>
        <p>Price: $600</p>
        <button onclick="addToCart('Dell Slim Desktop', 600)">Add to Cart</button>
    </div>
    <div class="product">
    	<img src="assets/img/desktop-tower-ect1250-c-no-ssd-black-gallery-1.avif" width="100px">
        <h3>Dell Tower Desktop</h3>
        <p>Price: $850</p>
        <button onclick="addToCart('Keyboard C', 850)">Add to Cart</button>
    </div>
    <div class="product">
    	<img src="assets/img/desktop-tower-ebt2250-c-gray-gallery-1.avif" width="100px">
        <h3>Dell Tower Plus Desktop</h3>
        <p>Price: $1000</p>
        <button onclick="addToCart('Keyboard C', 1000)">Add to Cart</button>
    </div>
    <div class="product">
    	<img src="assets/img/desktop-dell-pro-max-fcs1250-slim-odd-gallery-1.avif" width="100px">
        <h3>Dell Pro Max Slim Desktop</h3>
        <p>Price: $1100</p>
        <button onclick="addToCart('Keyboard C', 1100)">Add to Cart</button>
    </div>
    <div class="product">
    	<img src="assets/img/desktop-dell-pro-max-fcm1253-micro-bk-gallery-1.avif" width="200px">
        <h3>Dell Pro Max With GB10 Desktop</h3>
        <p>Price: $4500</p>
        <button onclick="addToCart('Keyboard C', 4500)">Add to Cart</button>
    </div>
    <div class="product">
    	<img src="assets/img/desktop-dell-pro-qbs1250-slim-plus-odd-gallery-1.avif" width="100px">
        <h3>Dell Pro Slim Plus Desktop</h3>
        <p>Price: $1100</p>
        <button onclick="addToCart('Keyboard C', 1100)">Add to Cart</button>
    </div>
    <div class="product">
    	<img src="assets/img/desktop-dell-pro-max-fcm2250-micro-bk-gallery-1.avif" width="100px">
        <h3>Dell Pro Max Micro Desktop</h3>
        <p>Price: $1100</p>
        <button onclick="addToCart('Keyboard C', 1100)">Add to Cart</button>
    </div>

</div>
<div class="cart">
<button onclick="openModal()" style="background:#f44336;">Place Order</button></div>
<div class="cart">
    <h2>Your Cart</h2>

    <div id="cart-items"></div>
    <p id="total-price">Total: $0</p>
</div>


<!------------------------------->
<!-- Modal -->
<div class="modal" id="orderModal">
  <div class="modal-content">
 <!-------------------------------->


<form id="orderForm">
    <h3>Place Your Order</h3>
    <input type="text" id="name" placeholder="Your Name" required><br>
    <input type="email" id="email" placeholder="Your Email" required><br>
    <input type="text" id="phone" placeholder="Phone Number" required><br>
    <textarea id="address" placeholder="Address" required></textarea><br>
    <button type="submit">Submit Order</button>
    <button type="Submit" onclick="closeModal()">Cancel Order</button>
</form>

<!------------------------------------------>
  </div>
</div>
<!-------------------------------------------->

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>

	/*---------------------------------------*/
	function openModal() {
    if(cart.length === 0){ alert('Cart is empty'); return; }
    document.getElementById('orderModal').style.display = 'block';
  }

  function closeModal() {
    document.getElementById('orderModal').style.display = 'none';
  }
	/*----------------------------------------*/



    emailjs.init('7C55a7CiST5CswN4j'); // replace with your EmailJS user ID

    let cart = [];

    function addToCart(name, price) {
        cart.push({name, price});
        displayCart();
    }

    function removeFromCart(index) {
        cart.splice(index, 1);
        displayCart();
    }

    function displayCart() {
        const cartItems = document.getElementById('cart-items');
        const totalPriceEl = document.getElementById('total-price');
        cartItems.innerHTML = '';
        let total = 0;

        cart.forEach((item, index) => {
            total += item.price;
            cartItems.innerHTML += `
                <div class="cart-item">
                    <p>${item.name} - $${item.price}</p>
                    <button onclick="removeFromCart(${index})">Remove</button>
                </div>
            `;
        });

        totalPriceEl.innerText = `Total: $${total}`;

    }

    document.getElementById('orderForm').addEventListener('submit', function(e) {
        e.preventDefault();

        if(cart.length === 0) {
            alert("Cart is empty!");
            return;
        }

        let items = cart.map(item => `${item.name} - $${item.price}`).join("\n");
        let total = cart.reduce((sum, item) => sum + item.price, 0);
        let cname = document.getElementById("name").value;
        let addr = document.getElementById("address").value;
        let email = document.getElementById("email").value;
        let phone = document.getElementById("phone").value;

 

        let templateParams = {
            to_email: 'vmacacc@gmail.com',
            
            /*from_name: document.getElementById('name').value,
            email: document.getElementById('email').value,
            phone: document.getElementById('phone').value,
            address: document.getElementById('address').value,*/
            message: `Name:${cname}\nAddress:${addr}\nEmail:${email}\nPhone:${phone}\nOrder Details:\n${items}\nTotal: $${total}`
        };

        emailjs.send('service_0yrxbss', 'template_m8q2b8s', templateParams)
        .then(function(response) {
            alert('Order sent successfully!');
            cart = [];
            displayCart();
            closeModal();
            document.getElementById('orderForm').reset();
        }, function(error) {
            alert('Failed to send order, please try again.');
            console.error(error);
        });
    });
</script>

</body>
</html>
